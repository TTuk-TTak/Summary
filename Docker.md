# Docker

:컨테이너 기술

- linux 에 최적화 됨 
- GCP(Google Cloud Platform) 사용해 실습 

# 컨테이너 기술
- app이 서로 다른 서버에 배포했을 때 동작이 다른 경우 
- 옛날, 최근 서버의 os, 라이브러리 등 버전일치가 어려움
- 같은 미들웨어를 사용하는데 서버에서 다르게 동작함 

-> app이 의존하는 os, cpu, 언어 런타임, 라이브러리를 일치 시켜줌 
-> 인프라의 가변성, 호환성이 근본적 문제인데 이를 해결 

The Matrix from hell => 도커책에서 명시하는 기존의 다양한 인프라 문제

컨테이너 = 
- 외부환경으로부터 격리된 공간에서 `프로세스`가 동작하는 기술
- app을 표준화된 단위로 패키징해 동일한 방법으로 배포하기 위한 기술 
- app의 실행코드 뿐만 아니라 외부환경을 하나로 패키징 
  (런타임, 라이브러리, configurations, etc...)
- 리눅스의 namespace, cgroups도 리눅스 컨테이너 기술이었음 

도커)
2013년에 발표 
:컨테이너 기반의 오픈소스 가상화 플랫폼 
- 다양한 프로그램, 실행환경을 컨테이너로 추상화하고 동일한 인터페이스 제공
- 프로그램의 배포 & 관리 단순화 

??? 도커 그림 하나 첨부 ??????

------------------------------------------------------------------------------------
가상머신과 차이 

------------------------------------------------------------------------------------
# 도커 환경세팅  

  uname -a      // 현재 사용 os, hw 정보 표출  
  cat /etc/*release    // 현재사용 os 정보 등 표출  
  docker -v            // 도커 버전 확인  
  docker container run {도커이미지명:버전명} {리눅스 명령어}  
    // ex_ docker container run docker/whalesay cosway hello world!    
      // cosway - linux에서 ASCII그림을 그려주는 명령어  
    // ex_ docker container run centos    // 라이브러리 다운  
      // -it 옵션 : 컨테이너 내부 접속해 바로 bash(#) 셀 실행 

1. centos 이미지의 latest 버전이 로컬에 있는지 확인
2. 없으면 공식저장소에서 다운로드 (pulling)
3. 로컬 이미지 있다면 다운로드 하지 않고 그대로 사용
4. 

 docker container ps    // 현재 실행중인 컨테이너 목록 출력
   // -a 옵션 : 종료된 컨테이너를 포함해 출력해줌  
   // -d 옵션 : 백그라운드로 프로세스 실행  
       // docker container run -d centos sleep 100  //100초 동안 백그라운드로 실행 유지  
    // container id : 컨테이너 고유 id 가 16진수 해시값으로 생성됨
    //
